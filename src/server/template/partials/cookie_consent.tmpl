{{/* Cookie consent popup partial */}}
{{/* Per AI.md PART 17: No inline JS handlers - use event delegation */}}
{{ define "cookie_consent" }}
{{ if .CookieConsent }}
{{ if .CookieConsent.Enabled }}
<div class="cookie-consent hidden" id="cookie-consent">
    <div class="cookie-consent-content">
        <p class="cookie-consent-message">
            {{ if .CookieConsent.Message }}
                {{ .CookieConsent.Message }}
            {{ else }}
                We use cookies to enhance your browsing experience. By continuing to use this site, you agree to our use of cookies.
            {{ end }}
            {{ if .CookieConsent.PolicyURL }}
            <a href="{{ .CookieConsent.PolicyURL }}" class="cookie-consent-link">Learn more</a>
            {{ end }}
        </p>
        <div class="cookie-consent-actions">
            <button class="cookie-consent-accept">Accept</button>
            <button class="cookie-consent-decline">Decline</button>
        </div>
    </div>
</div>
<script>
(function() {
    var consent = localStorage.getItem('cookie_consent');
    if (consent === null) {
        document.getElementById('cookie-consent').style.display = 'flex';
    }
})();
</script>
{{ end }}
{{ end }}
{{ end }}
