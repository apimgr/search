{{define "base"}}
<!DOCTYPE html>
<html lang="en" data-theme="{{default "dark" .Theme}}">
<head>
    {{template "head" .}}
    {{block "extra_head" .}}{{end}}
</head>
<body class="{{.Page}}-page">
    {{template "header" .}}
    {{template "nav" .}}

    <main class="main-content">
        {{/* Announcements banners */}}
        {{template "announcements" .}}

        {{/* Flash messages */}}
        {{if .Flash}}
        <div class="flash flash-{{.Flash.Type}}" role="alert">
            {{.Flash.Message}}
            <button class="flash-close" onclick="this.parentElement.remove()" aria-label="Close">&times;</button>
        </div>
        {{end}}

        {{block "content" .}}{{end}}
    </main>

    {{template "footer" .}}
    {{template "scripts" .}}
    {{block "extra_scripts" .}}{{end}}
    {{/* Cookie consent popup */}}
    {{template "cookie_consent" .}}
</body>
</html>
{{end}}
